<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UA ëŒ€ê¸°ì—´ ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" href="https://adobe.sharepoint.com/:u:/r/sites/bugreports/Shared%20Documents/Acdashboard_admin/styles.css?csf=1&web=1&e=YtzC2N">
</head>
<body>
    <!-- í—¤ë” ì˜ì—­ -->
    <div class="header">
        <h1>UA ëŒ€ê¸°ì—´ ëŒ€ì‹œë³´ë“œ</h1>
        <div class="button-container">
            <button class="btn btn-primary lunch-modal-btn" title="ì ì‹¬ ì‹œê°„ ì„¤ì •">
                <span class="icon">ğŸ½ï¸</span> ì ì‹¬ ì‹œê°„
            </button>
            <button class="btn btn-primary upsell-modal-btn" title="Upsell ë°ì´í„° ì„¤ì •">
                <span class="icon">ğŸ’°</span> Upsell
            </button>
            <button class="btn btn-secondary settings-button" title="ì¹¼ëŸ¼ ì„¤ì •">
                <span class="icon">âš™ï¸</span> ì„¤ì •
            </button>
        </div>
    </div>

    <!-- ì ì‹¬ ì‹œê°„ ì•Œë¦¼ -->
    <div id="lunchNotification" class="notification" ></div>
    <div id="upsellNotification" class="notification"></div>   

    <!-- ìƒíƒœ ìš”ì•½ ì •ë³´ ì¶”ê°€ -->
    <div class="status-summary" id="statusSummary">
        <span class="summary-item login">Login: <span class="count">0</span></span>
        <span class="summary-item available">Available: <span class="count">0</span></span>
        <span class="summary-item bomgar">Bomgar: <span class="count">0</span></span>
        <span class="summary-item break">Break: <span class="count">0</span></span>
        <span class="summary-item coaching">Coaching: <span class="count">0</span></span>
    </div>
    <!-- ê°œë°œ ëª¨ë“œ í‘œì‹œê¸° ì¶”ê°€ -->
<div id="dev-indicator" style="position: fixed; top: 10px; right: 10px; background: #f70f0f; color: white; padding: 5px 10px; border-radius: 5px; font-size: 12px; z-index: 9999; display: none;">
    ğŸ”§ ê°œë°œ ëª¨ë“œ


</div>
<div class="ques-section">
    <div class="ques-header">
        <h2>Queue</h2>
        <div class="ques-controls">
            <button class="btn btn-small toggle-details-btn" onclick="toggleQuesDetails()">
                ğŸ“‹ ìƒì„¸ ì •ë³´ ë³´ê¸°
            </button>
            <button class="btn btn-small refresh-ques-btn" onclick="refreshQuesTable()">
                ğŸ”„ ìƒˆë¡œê³ ì¹¨
            </button>
            
            <!-- âœ… ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ ì¶”ê°€ -->
            <button id="adminModeBtn" class="btn btn-small admin-mode-btn" onclick="toggleAdminMode()">
                ğŸ” ê´€ë¦¬ì ëª¨ë“œ
            </button>
        </div>
    </div>
    
    <!-- âœ… ê´€ë¦¬ì ëª¨ë“œ ì¸ë””ì¼€ì´í„° ì¶”ê°€ -->
    <div id="adminModeIndicator" class="admin-mode-indicator hidden">
        <span>ğŸ‘¤ Agent í…Œì´ë¸” ìˆœì„œ ë³€ê²½ ëª¨ë“œ</span>
        <button class="btn btn-small save-order-btn" onclick="saveAgentTableOrder()">
            ğŸ’¾ ìˆœì„œ ì €ì¥
        </button>
        <button class="btn btn-small reset-order-btn" onclick="resetAgentTableOrder()">
            ğŸ”„ ìˆœì„œ ì´ˆê¸°í™”
        </button>
    </div>
    
    <div class="ques-table-container">
        <table id="quesTable" class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Channels</th>
                    <th>In Queue</th>
                    <th>Oldest</th>
                    <th>Scheduled</th>
                    <th>Queued</th>
                    <th>Handled</th>
                    <th>Abandoned</th>
                    <th>AHT</th>
                    <th>SL 60sec</th>
                </tr>
            </thead>
            <tbody>
                <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </tbody>
        </table>
    </div>
</div>

<!-- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬ -->
<div id="quesPasswordModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
        <span class="close-modal" onclick="closeQuesPasswordModal()">&times;</span>
        <h3>ğŸ” ê´€ë¦¬ì ì¸ì¦</h3>
        <div class="modal-body">
            <p style="margin-bottom: 15px;">Queue ìƒì„¸ ì •ë³´ë¥¼ ë³´ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
            <input type="password" id="quesPasswordInput" class="form-input" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" style="margin-bottom: 15px;">
            <div class="password-buttons">
                <button class="btn btn-primary" onclick="verifyQuesPassword()">í™•ì¸</button>
                <button class="btn btn-secondary" onclick="closeQuesPasswordModal()">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
</div>
</div>
<!-- í…Œì´ë¸” ì˜ì—­ -->
    <div class="table-container">
        <table border="1" id="agentTable" class="table">
            <thead>
                <tr>
                    <th>ConID</th>
                    <th>Handled</th>
                    <th>Upsell</th>                       
                    <th>Activity</th>
                    <th>Next</th>
                    <th>Duration</th>
                    <th>Contact</th>
                    <th>RP</th>
                    <th>Immersed</th>
                    <th>CaAHT</th>
                    <th>ChAHT</th>                
                </tr>
            </thead>
            <tbody>
                <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ì±„ì›Œì§„ë‹¤ -->
            </tbody>
        </table>
    </div>

<div id="upsellNotification" class="notification"></div>    

<!-- Upsell ì„¤ì • ëª¨ë‹¬ì°½ -->
<div id="upsellModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Upsell ë°ì´í„° ì„¤ì •</h3>
        <div class="modal-inner-content">
            <textarea class="form-input upsell-input" placeholder="ì—‘ì…€ì—ì„œ ë³µì‚¬í•œ Upsell ë°ì´í„°ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”&#10;ì˜ˆ: con12345&#9;7&#9;12"></textarea>
            <button class="btn btn-primary upsell-button">ì ìš©</button>
            
            <!-- Upsell í…Œì´ë¸” ì¶”ê°€ -->
            <div class="upsell-table-container">
                <h3>í˜„ì¬ ë“±ë¡ëœ Upsell ë°ì´í„°</h3>
                <table id="upsellTable" class="table upsell-table">
                    <thead>
                        <tr>
                            <th>ConID</th>
                            <th>ì´ë¦„</th>
                            <th>i2T</th>
                            <th>AEAM</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ì±„ì›Œì§„ë‹¤ -->
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal-resize-handle"></div>
    </div>
</div>

<!-- Handled ìƒì„¸ ì •ë³´ ëª¨ë‹¬ -->
<div id="handledDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Handled Details</h3>
            <div class="agent-name-title">Agent: <span id="modalAgentName"></span></div>
            <table id="handledDetailsTable" class="table details-table">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- ë‚´ìš© -->
                </tbody>
                <tfoot>
                    <tr>
                        <td><strong>Total</strong></td>
                        <td id="modalTotalHandled"><strong>0</strong></td>
                    </tr>
                </tfoot>
            </table>
        </div>
</div>

<!-- ì ì‹¬ ì‹œê°„ ëª¨ë‹¬ì°½ -->
<div id="lunchModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>ì ì‹¬ ì‹œê°„ ì„¤ì •</h3>
        <div class="modal-inner-content">
            <textarea class="form-input lunch-input" placeholder="ì—‘ì…€ì—ì„œ ë³µì‚¬í•œ ì ì‹¬ ì‹œê°„ ë°ì´í„°ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”&#10;ì˜ˆ: ì†¡ì¬í˜&#9;12:45"></textarea>
            <button class="btn btn-primary lunch-button">ì ìš©</button>
            
            <!-- ì ì‹¬ ì‹œê°„ í…Œì´ë¸” ì¶”ê°€ -->
            <div class="lunch-table-container">
                <h3>í˜„ì¬ ë“±ë¡ëœ ì ì‹¬ ì‹œê°„</h3>
                <table id="lunchTable" class="table lunch-table">
                    <thead>
                        <tr>
                            <th>ConID</th>
                            <th>ì´ë¦„</th>
                            <th>ì ì‹¬ì‹œê°„</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ì±„ì›Œì§„ë‹¤ -->
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal-resize-handle"></div>
    </div>
</div>

<!-- ì„¤ì •(ì¹¼ëŸ¼ ìˆ¨ê¸°ê¸°) ëª¨ë‹¬ì°½ -->
<div id="settingsModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>ì¹¼ëŸ¼ ì„¤ì •</h3>
        <div class="settings-content" id="columnControls">
            <!-- ì²´í¬ë°•ìŠ¤ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>
</div>

    <!-- JavaScript ë§í¬ -->
    <script src="https://adobe.sharepoint.com/:u:/r/sites/bugreports/Shared%20Documents/Acdashboard_admin/dashboard.js?csf=1&web=1&e=NncI2B"></script>
        <script>
        // ê°œë°œ ëª¨ë“œ í‘œì‹œê¸° í‘œì‹œ
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            document.getElementById('dev-indicator').style.display = 'block';
        }
    </script>    
</body>
</html>
